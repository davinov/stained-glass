<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Stained Glass</title>

    <link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.5/lumen/bootstrap.min.css" rel="stylesheet">
    <style>
    html, body {
      height: 100%;
      width: 100%;
    }

    pre {
      text-align: left;
    }

    img, .stained-glass {
      max-width: 100%;
    }

    section {
      display: flex;
      min-height: 100%;
      position: relative;
    }

    section .container {
      z-index: 100;
      margin-top: 3em;
    }

    .col-xs-6 {
      padding-bottom: 1em;
      background-color: rgba(255, 255, 255, 0.4);
    }

    h3 {
      color: white;
    }

    .full-screen-image {
      position: absolute;
      width: 100%;
    }
    </style>
  </head>
  <body>
    <div class="container">
      <h1 class="page-header text-center">
        StainedGlass
        <p class="lead">The church has no more exclusivity on them.</p>
      </h1>
    </div>

    <section>
      <img class="full-screen-image" id="example-1" src="examples/1.jpg">
      <div class="container">
        <div class="col-xs-6">
          <h3>Apply StainedGlass to a picture</h3>
          <script>
            function example1(btn) {
              new StainedGlass(document.getElementById('example-1'));
              btn.disabled = true;
            }
          </script>
          <pre>new StainedGlass(document.getElementById('example-1'));</pre>
          <hr>
          <button class="btn" onclick='example1(this)'>Execute</button>
        </div>
        </div>
      </div>
    </section>

    <section>
      <img class="full-screen-image" id="example-2" src="examples/2.jpg">
        <div class="container">
          <div class="col-xs-6">
          <h3>Add more/less granularity</h3>
          <script>
            function example2(btn) {
              new StainedGlass(document.getElementById('example-2'), {
                polygons: 300
              });
              btn.disabled = true;
            }
          </script>
          <pre>new StainedGlass(document.getElementById('example-2'), {
  <strong>polygons: 300</strong> // default: 100
});</pre>
          <hr>
          <p>
            Photo by the awesome Eyal Levkovich
          </p>
          <button class="btn" onclick='example2(this)'>Execute</button>
        </div>
      </div>
    </section>

    <section>
      <img class="full-screen-image" id="example-3" src="examples/3.png">
        <div class="container">
          <div class="col-xs-6">
          <h3>Play with regularity</h3>
          <script>
            function example3(btn) {
              new StainedGlass(document.getElementById('example-3'), {
                deviation: 0
              });
              btn.disabled = true;
            }
          </script>
          <pre>new StainedGlass(document.getElementById('example-3'), {
  <strong>deviation: 0</strong> // default: 0.2
});</pre>
          <hr>
          <button class="btn" class="execute" onclick='example3(this)'>Execute</button>
        </div>
      </div>
    </section>

    <section>
      <img class="full-screen-image" id="example-4" src="examples/4.jpg">
        <div class="container">
          <div class="col-xs-6">
          <h3>Add borders</h3>
          <script>
            function example4(btn) {
              new StainedGlass(document.getElementById('example-4'), {
                stroke: 'black',
                strokeWidth: 3
              });
              btn.disabled = true;
            }
          </script>
          <pre>new StainedGlass(document.getElementById('example-4'), {
  <strong>stroke: 'black',</strong> // uses the color of the shaped by default
  strokeWidth: 3 // default: 1.52
});</pre>
          <hr>
          <button class="btn" onclick='example4(this)'>Execute</button>
        </div>
      </div>
    </section>

    <section>
      <img class="full-screen-image" id="example-5" src="examples/5.jpg">
      <div class="container">
        <div class="col-xs-6">
          <h3>Triangles</h3>
          <script>
            function example5(btn) {
              new StainedGlass(document.getElementById('example-5'), {
                triangles: true
              });
              btn.disabled = true;
            }
          </script>
          <pre>new StainedGlass(document.getElementById('example-5'), {
  <strong>triangles: true</strong>
});</pre>
          <hr>
          <button class="btn" onclick='example5(this)'>Execute</button>
        </div>
      </div>
    </section>

    <section>
      <img class="full-screen-image" id="example-6" src="examples/6.jpg">
      <div class="container">
        <div class="col-xs-6">
          <h3>Animate</h3>
          <script>
            function example6(btn) {
              new StainedGlass(document.getElementById('example-6'), {
                polygons: 500,
                triangles: true,
                animated: true
              });
              btn.disabled = true;
            }
          </script>
          <pre>new StainedGlass(document.getElementById('example-6'), {
  polygons: 500,
  triangles: true,
  <strong>animated: true</strong>
});</pre>
          <hr>
          <button class="btn" onclick='example6(this)'>Execute</button>
        </div>
      </div>
    </section>

    <section>
      <img class="full-screen-image" id="example-7" src="examples/7.jpg">
      <div class="container" style="pointer-events: none;">
        <div class="col-xs-6">
          <h3>Follow the cursor</h3>
          <script>
            function example7(btn) {
              new StainedGlass(document.getElementById('example-7'), {
                polygons: 500,
                triangles: true,
                animated: true,
                animationDuration: 300,
                followCursor: true
              });
              btn.disabled = true;
            }
          </script>
          <pre>new StainedGlass(document.getElementById('example-7), {
  polygons: 500,
  triangles: true,
  animated: true,
  animationDuration: 300,
  <strong>followCursor: true</strong>
});</pre>
          <hr>
          <button class="btn" onclick="example7(this)" style="pointer-events: all;">Execute</button>
        </div>
      </div>
    </section>

    <hr>

    <div class="container">
      <p>Requires d3.js</p>
      <p>
        <a href="http://david.nowinsky.net">@davinov</a>, from <a href="http://toucantoco.com">Toucan Toco</a>
      </p>
      <p>
        Inspired by <a href="http://qrohlf.com/trianglify/">Trianglify</a>
      </p>
    </div>
    <!-- <input type="file" id="fileInput"> -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.js"></script>
  <script src="dist/stained-glass.js"></script>
  <script>
    // var fileInput = document.getElementById('fileInput');
    // fileInput.addEventListener('change', function(e) {
    //   var file = fileInput.files[0];
    //   var imageType = /image.*/;
    //
    //   if (file.type.match(imageType)) {
    //     var reader = new FileReader();
    //
    //     reader.onload = function(e) {
    //       // Create a new image.
    //       var img = new Image();
    //       // Set the img src property using the data URL.
    //       img.src = reader.result;
    //       debugger
    //       StainedGlass.getPixels(reader.result, function(err, pixels) {
    //         if(err) {
    //           console.log("Bad image path")
    //           return
    //         }
    //         StainedGlass.append(document.body);
    //       })
    //     }
    //
    //     reader.readAsDataURL(file);
    //   }
    // });
  </script>
  </body>
</html>
